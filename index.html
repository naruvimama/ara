<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='Content-Language' content='en'/>
  <title></title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script type="text/javascript">
    if (!('webkitSpeechRecognition' in window)) {
      alert('Speech API not supported in your browser. Please upgrade to latest version.');
    }
    else {
      var recognition = new webkitSpeechRecognition();
      recognition.continuous = true;
      recognition.interimResults = true;
      recognition.lang = "en-IN"; 
      recognition.maxAlternatives = 3;

      recognition.onstart = function() {
        // Listening (capturing voice from audio input) started.
        // This is a good place to give the user visual feedback about that (i.e. flash a red light, etc.)
        console.log('started');
      };

      function startButton(event) {
        recognition.start();
        start_img.src = 'https://speechlogger.appspot.com/images/micslash2.png';
      }

      recognition.onend = function() {
        // If you wish to achieve continuous recognition â€“ you can write a script to start the recognizer again here.
        console.log('ended');
        recognition.start();
      };

      recognition.onresult = function(event) {
        if (typeof(event.results) === 'undefined') {
          recognition.stop();
          return;
        }

        for (var i = event.resultIndex; i < event.results.length; ++i) {      
          if (event.results[i].isFinal) { 
            // Final results
            console.log("final results: " + event.results[i][0].transcript);
          } 
          else {
            // You can use these results to give the user near real time experience.
            console.log("interim results: " + event.results[i][0].transcript);
          } 
        }
      }; 
    }
  </script>
</head>
<body>
<div onclick="startButton(event);"><img alt="Start" id="start_img" src="https://speechlogger.appspot.com/images/micoff2.png"></div> 
</body>
</html>
